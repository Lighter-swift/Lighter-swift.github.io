{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"SQLConnectionHandler"}],"languages":["swift"],"platforms":["macOS"]}]},{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"This can be subclassed by users to implement custom pooling strategies."}]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/lighter\/sqlconnectionhandler"],"traits":[{"interfaceLanguage":"swift"}]}],"relationshipsSections":[{"identifiers":["doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/SimplePool","doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/UnsafeReuse"],"kind":"relationships","title":"Inherited By","type":"inheritedBy"}],"identifier":{"url":"doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"An object used to open a database connection."}],"kind":"symbol","metadata":{"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"SQLConnectionHandler"}],"title":"SQLConnectionHandler","roleHeading":"Class","role":"symbol","symbolKind":"class","externalID":"s:7Lighter20SQLConnectionHandlerC","modules":[{"name":"Lighter.swift for SQLite3"}],"navigatorTitle":[{"kind":"identifier","text":"SQLConnectionHandler"}]},"hierarchy":{"paths":[["doc:\/\/Lighter\/documentation\/Lighter"]]},"topicSections":[{"title":"Classes","identifiers":["doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/SimplePool","doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/UnsafeReuse"]},{"title":"Structures","identifiers":["doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/Configuration"]},{"title":"Initializers","identifiers":["doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/init(url:readOnly:writeTimeout:)"]},{"title":"Instance Properties","identifiers":["doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/readOnly","doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/url","doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/writeTimeout"]},{"title":"Instance Methods","identifiers":["doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/openConnection(_:)","doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/releaseConnection(_:with:afterError:)","doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/withConnection(readOnly:execute:)"]},{"title":"Type Methods","identifiers":["doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/reopen(url:readOnly:writeTimeout:)","doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/simplePool(url:readOnly:maxAge:maximumPoolSizePerConfiguration:writeTimeout:)","doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/unsafeReuse(_:url:closeOnDeinit:)"]}],"references":{"doc://Lighter/documentation/Lighter/SQLConnectionHandler/init(url:readOnly:writeTimeout:)":{"role":"symbol","title":"init(url:readOnly:writeTimeout:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"url"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"URL","preciseIdentifier":"s:10Foundation3URLV"},{"kind":"text","text":", "},{"kind":"externalParam","text":"readOnly"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":", "},{"kind":"externalParam","text":"writeTimeout"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"TimeInterval","preciseIdentifier":"c:@T@NSTimeInterval"},{"kind":"text","text":")"}],"abstract":[],"identifier":"doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/init(url:readOnly:writeTimeout:)","kind":"symbol","type":"topic","url":"\/documentation\/lighter\/sqlconnectionhandler\/init(url:readonly:writetimeout:)"},"doc://Lighter/documentation/Lighter/SQLConnectionHandler/withConnection(readOnly:execute:)":{"role":"symbol","title":"withConnection(readOnly:execute:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"withConnection"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"R"},{"kind":"text","text":">("},{"kind":"externalParam","text":"readOnly"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":", "},{"kind":"externalParam","text":"execute"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","text":"OpaquePointer","preciseIdentifier":"s:s13OpaquePointerV"},{"kind":"text","text":") "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"R"},{"kind":"text","text":") "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"R"}],"abstract":[{"type":"text","text":"Execute the provided closure with an open connection."}],"identifier":"doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/withConnection(readOnly:execute:)","kind":"symbol","type":"topic","url":"\/documentation\/lighter\/sqlconnectionhandler\/withconnection(readonly:execute:)"},"doc://Lighter/documentation/Lighter/SQLConnectionHandler/Configuration":{"role":"symbol","title":"SQLConnectionHandler.Configuration","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Configuration"}],"abstract":[],"identifier":"doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/Configuration","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Configuration"}],"url":"\/documentation\/lighter\/sqlconnectionhandler\/configuration"},"doc://Lighter/documentation/Lighter/SQLConnectionHandler/unsafeReuse(_:url:closeOnDeinit:)":{"role":"symbol","title":"unsafeReuse(_:url:closeOnDeinit:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"unsafeReuse"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"OpaquePointer","preciseIdentifier":"s:s13OpaquePointerV"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"url"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"URL","preciseIdentifier":"s:10Foundation3URLV"},{"kind":"text","text":", "},{"kind":"externalParam","text":"closeOnDeinit"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"SQLConnectionHandler","preciseIdentifier":"s:7Lighter20SQLConnectionHandlerC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"UnsafeReuse","preciseIdentifier":"s:7Lighter20SQLConnectionHandlerC11UnsafeReuseC"}],"abstract":[{"type":"text","text":"Create a connection handle from an existing, open handle."}],"identifier":"doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/unsafeReuse(_:url:closeOnDeinit:)","kind":"symbol","type":"topic","url":"\/documentation\/lighter\/sqlconnectionhandler\/unsafereuse(_:url:closeondeinit:)"},"doc://Lighter/documentation/Lighter/SQLConnectionHandler/reopen(url:readOnly:writeTimeout:)":{"role":"symbol","title":"reopen(url:readOnly:writeTimeout:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"reopen"},{"kind":"text","text":"("},{"kind":"externalParam","text":"url"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"URL","preciseIdentifier":"s:10Foundation3URLV"},{"kind":"text","text":", "},{"kind":"externalParam","text":"readOnly"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":", "},{"kind":"externalParam","text":"writeTimeout"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"TimeInterval","preciseIdentifier":"c:@T@NSTimeInterval"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"SQLConnectionHandler","preciseIdentifier":"s:7Lighter20SQLConnectionHandlerC"}],"abstract":[{"type":"text","text":"Returns a connection handler that will open a new database handle on"},{"type":"text","text":" "},{"type":"text","text":"each request."}],"identifier":"doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/reopen(url:readOnly:writeTimeout:)","kind":"symbol","type":"topic","url":"\/documentation\/lighter\/sqlconnectionhandler\/reopen(url:readonly:writetimeout:)"},"doc://Lighter/documentation/Lighter/SQLConnectionHandler/openConnection(_:)":{"role":"symbol","title":"openConnection(_:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"openConnection"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"SQLConnectionHandler","preciseIdentifier":"s:7Lighter20SQLConnectionHandlerC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Configuration","preciseIdentifier":"s:7Lighter20SQLConnectionHandlerC13ConfigurationV"},{"kind":"text","text":") "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"OpaquePointer","preciseIdentifier":"s:s13OpaquePointerV"}],"abstract":[{"type":"text","text":"Acquire a new database connection."}],"identifier":"doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/openConnection(_:)","kind":"symbol","type":"topic","url":"\/documentation\/lighter\/sqlconnectionhandler\/openconnection(_:)"},"doc://Lighter/documentation/Lighter/SQLConnectionHandler/UnsafeReuse":{"role":"symbol","title":"SQLConnectionHandler.UnsafeReuse","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"UnsafeReuse"}],"abstract":[{"type":"text","text":"The "},{"type":"codeVoice","code":"UnsafeReuse"},{"type":"text","text":" handler just vends the same connection."}],"identifier":"doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/UnsafeReuse","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"UnsafeReuse"}],"url":"\/documentation\/lighter\/sqlconnectionhandler\/unsafereuse"},"doc://Lighter/documentation/Lighter/SQLConnectionHandler/SimplePool":{"role":"symbol","title":"SQLConnectionHandler.SimplePool","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"SimplePool"}],"abstract":[{"type":"text","text":"A simple connection pool that can free pooled connections after a timeout."}],"identifier":"doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/SimplePool","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"SimplePool"}],"url":"\/documentation\/lighter\/sqlconnectionhandler\/simplepool"},"doc://Lighter/documentation/Lighter/SQLConnectionHandler/writeTimeout":{"role":"symbol","title":"writeTimeout","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"writeTimeout"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"TimeInterval","preciseIdentifier":"c:@T@NSTimeInterval"}],"abstract":[],"identifier":"doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/writeTimeout","kind":"symbol","type":"topic","url":"\/documentation\/lighter\/sqlconnectionhandler\/writetimeout"},"doc://Lighter/documentation/Lighter":{"role":"collection","title":"Lighter.swift for SQLite3","abstract":[{"type":"text","text":"Type-safe down to the schema. Very, "},{"type":"strong","inlineContent":[{"type":"text","text":"very"}]},{"type":"text","text":", fast. Dependency free."}],"identifier":"doc:\/\/Lighter\/documentation\/Lighter","kind":"symbol","type":"topic","url":"\/documentation\/lighter"},"doc://Lighter/documentation/Lighter/SQLConnectionHandler":{"role":"symbol","title":"SQLConnectionHandler","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"SQLConnectionHandler"}],"abstract":[{"type":"text","text":"An object used to open a database connection."}],"identifier":"doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"SQLConnectionHandler"}],"url":"\/documentation\/lighter\/sqlconnectionhandler"},"doc://Lighter/documentation/Lighter/SQLConnectionHandler/releaseConnection(_:with:afterError:)":{"role":"symbol","title":"releaseConnection(_:with:afterError:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"releaseConnection"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"OpaquePointer","preciseIdentifier":"s:s13OpaquePointerV"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"with"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"SQLConnectionHandler","preciseIdentifier":"s:7Lighter20SQLConnectionHandlerC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Configuration","preciseIdentifier":"s:7Lighter20SQLConnectionHandlerC13ConfigurationV"},{"kind":"text","text":", "},{"kind":"externalParam","text":"afterError"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":"?)"}],"abstract":[{"type":"text","text":"Release a database connection for potential reuse."}],"identifier":"doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/releaseConnection(_:with:afterError:)","kind":"symbol","type":"topic","url":"\/documentation\/lighter\/sqlconnectionhandler\/releaseconnection(_:with:aftererror:)"},"doc://Lighter/documentation/Lighter/SQLConnectionHandler/url":{"role":"symbol","title":"url","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"url"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"URL","preciseIdentifier":"s:10Foundation3URLV"}],"abstract":[],"identifier":"doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/url","kind":"symbol","type":"topic","url":"\/documentation\/lighter\/sqlconnectionhandler\/url"},"doc://Lighter/documentation/Lighter/SQLConnectionHandler/readOnly":{"role":"symbol","title":"readOnly","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"readOnly"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"}],"abstract":[],"identifier":"doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/readOnly","kind":"symbol","type":"topic","url":"\/documentation\/lighter\/sqlconnectionhandler\/readonly"},"doc://Lighter/documentation/Lighter/SQLConnectionHandler/simplePool(url:readOnly:maxAge:maximumPoolSizePerConfiguration:writeTimeout:)":{"role":"symbol","title":"simplePool(url:readOnly:maxAge:maximumPoolSizePerConfiguration:writeTimeout:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"simplePool"},{"kind":"text","text":"("},{"kind":"externalParam","text":"url"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"URL","preciseIdentifier":"s:10Foundation3URLV"},{"kind":"text","text":", "},{"kind":"externalParam","text":"readOnly"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":", "},{"kind":"externalParam","text":"maxAge"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"TimeInterval","preciseIdentifier":"c:@T@NSTimeInterval"},{"kind":"text","text":", "},{"kind":"externalParam","text":"maximumPoolSizePerConfiguration"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"kind":"text","text":", "},{"kind":"externalParam","text":"writeTimeout"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"TimeInterval","preciseIdentifier":"c:@T@NSTimeInterval"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"SQLConnectionHandler","preciseIdentifier":"s:7Lighter20SQLConnectionHandlerC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"SimplePool","preciseIdentifier":"s:7Lighter20SQLConnectionHandlerC10SimplePoolC"}],"abstract":[],"identifier":"doc:\/\/Lighter\/documentation\/Lighter\/SQLConnectionHandler\/simplePool(url:readOnly:maxAge:maximumPoolSizePerConfiguration:writeTimeout:)","kind":"symbol","type":"topic","url":"\/documentation\/lighter\/sqlconnectionhandler\/simplepool(url:readonly:maxage:maximumpoolsizeperconfiguration:writetimeout:)"}}}