{"hierarchy":{"paths":[["doc:\/\/Lighter\/documentation\/Lighter"]]},"metadata":{"role":"article","roleHeading":"Article","title":"Manual Generation","modules":[{"name":"Lighter.swift for SQLite3"}]},"abstract":[{"type":"text","text":"How to generate Lighter content by hand."}],"variants":[{"paths":["\/documentation\/lighter\/manual"],"traits":[{"interfaceLanguage":"swift"}]}],"sections":[],"identifier":{"url":"doc:\/\/Lighter\/documentation\/Lighter\/Manual","interfaceLanguage":"swift"},"primaryContentSections":[{"content":[{"type":"heading","level":2,"text":"Overview","anchor":"Overview"},{"inlineContent":[{"text":"The easiest way to use Lighter is to use the “Enlighter” build tool plugin","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"which is automatically run by Swift Package Manager or Xcode (14+) if the"},{"type":"text","text":" "},{"type":"text","text":"database files change."},{"type":"text","text":" "},{"text":"But if that isn’t an option (e.g. Xcode 14 can’t be used yet), Lighter","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"provides a set of options to do it otherwise."}],"type":"paragraph"},{"anchor":"Using-the-Generate-Code-for-SQLite-command-plugin","level":3,"text":"Using the “Generate Code for SQLite” command plugin.","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"Command plugins are new Swift 5.6 feature that allows running commands embedded","type":"text"},{"type":"text","text":" "},{"type":"text","text":"in packages manually (vs automatically as with “build tool plugins” like"},{"text":" ","type":"text"},{"text":"Enlighter).","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"“Generate Code for SQLite” is a command plugin which looks at the database\/SQL"},{"type":"text","text":" "},{"type":"text","text":"files just like Enlighter and produces Swift files for them. Unlike Enlighter"},{"type":"text","text":" "},{"type":"text","text":"it doesn’t write them into the build path, but into the sources of the project"},{"type":"text","text":" "},{"type":"text","text":"or package (SPM\/Xcode is prompting to allow for that)."}]},{"inlineContent":[{"text":"In Xcode 14 the plugin can be run from the “File \/ Packages \/ Plugin” menu.","type":"text"},{"text":" ","type":"text"},{"text":"Note that Xcode 14 is only needed at generation time for that. Afterwards the","type":"text"},{"type":"text","text":" "},{"type":"text","text":"file can be checked into the repository as source code."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Even with Xcode 13 the command plugin can be run using swift on the commandline."}],"type":"paragraph"},{"style":"note","name":"Note","type":"aside","content":[{"inlineContent":[{"text":"Unless working on packages, Xcode doesn’t automatically add the","type":"text"},{"text":" ","type":"text"},{"text":"generate Swift file.","type":"text"},{"type":"text","text":" "},{"text":"So on first run, one may need to look into the filesystem and drag the","type":"text"},{"type":"text","text":" "},{"type":"text","text":"generated file into the project."}],"type":"paragraph"}]},{"type":"heading","level":3,"anchor":"Using-the-Code-for-SQLite3-Application","text":"Using the “Code for SQLite3” Application"},{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"https:\/\/apps.apple.com\/us\/app\/code-for-sqlite3\/id1638111010"},{"text":" ","type":"text"},{"type":"text","text":"is a macOS app that does the same like the “"},{"type":"codeVoice","code":"sqlite2swift"},{"text":"” tool, but as an app.","type":"text"},{"type":"text","text":" "},{"text":"It can be useful to play w\/ the Lighter options and to manually generate the","type":"text"},{"type":"text","text":" "},{"type":"text","text":"code."}]},{"type":"paragraph","inlineContent":[{"text":"Just drag the database files into the app, and it’ll generate the Swift code.","type":"text"},{"type":"text","text":" "},{"text":"Which can then be copy\/pasted into the Xcode project.","type":"text"}]},{"level":3,"type":"heading","text":"Using the `sqlite2swift` tool manually","anchor":"Using-the-sqlite2swift-tool-manually"},{"inlineContent":[{"type":"text","text":"This is a useful option if Swift 5.6 is not yet available in a CI environment,"},{"type":"text","text":" "},{"type":"text","text":"but the code should be automatically generated. The tool can be added as a"},{"type":"text","text":" "},{"type":"text","text":"traditional script phase to a project."}],"type":"paragraph"},{"inlineContent":[{"text":"The arguments:","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"1st argument:    The ","type":"text"},{"identifier":"doc:\/\/Lighter\/documentation\/Lighter\/Configuration","isActive":true,"type":"reference"},{"text":" or ","type":"text"},{"code":"-","type":"codeVoice"},{"type":"text","text":" if there is none."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"2nd argument:    The name of the target the code is generated for, this is","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"used to resolve configuration options in the file."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"other arguments: The database\/SQL input files.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"last argument:   The Swift output file."}],"type":"paragraph"}]}]},{"inlineContent":[{"type":"codeVoice","code":"sqlite2swift"},{"type":"text","text":" is shipped as a tool product in the Lighter package, and should"},{"type":"text","text":" "},{"text":"compile with Swift 5.0 and beyond.","type":"text"}],"type":"paragraph"}],"kind":"content"}],"schemaVersion":{"patch":0,"major":0,"minor":3},"seeAlsoSections":[{"generated":true,"title":"Advanced","identifiers":["doc:\/\/Lighter\/documentation\/Lighter\/Configuration","doc:\/\/Lighter\/documentation\/Lighter\/Linux","doc:\/\/Lighter\/documentation\/Lighter\/SQLiteAPI","doc:\/\/Lighter\/documentation\/Lighter\/Mapping","doc:\/\/Lighter\/documentation\/Lighter\/Migrations","doc:\/\/Lighter\/documentation\/Lighter\/Performance"]}],"kind":"article","references":{"doc://Lighter/documentation/Lighter/Configuration":{"role":"article","url":"\/documentation\/lighter\/configuration","identifier":"doc:\/\/Lighter\/documentation\/Lighter\/Configuration","type":"topic","kind":"article","title":"Configuration","abstract":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"Lighter.json"},{"text":" configuration file.","type":"text"}]},"doc://Lighter/documentation/Lighter/Migrations":{"kind":"article","identifier":"doc:\/\/Lighter\/documentation\/Lighter\/Migrations","role":"article","url":"\/documentation\/lighter\/migrations","type":"topic","abstract":[{"text":"Detecting schema changes and performing schema upgrades.","type":"text"}],"title":"Migrations"},"doc://Lighter/documentation/Lighter/Mapping":{"url":"\/documentation\/lighter\/mapping","role":"collectionGroup","identifier":"doc:\/\/Lighter\/documentation\/Lighter\/Mapping","abstract":[{"type":"text","text":"Mapping Data retrieved from the Database."}],"title":"Mapping","type":"topic","kind":"article"},"doc://Lighter/documentation/Lighter":{"url":"\/documentation\/lighter","kind":"symbol","type":"topic","role":"collection","identifier":"doc:\/\/Lighter\/documentation\/Lighter","title":"Lighter.swift for SQLite3","abstract":[{"type":"text","text":"Type-safe down to the schema. Very, "},{"inlineContent":[{"type":"text","text":"very"}],"type":"strong"},{"type":"text","text":", fast. Dependency free."}]},"doc://Lighter/documentation/Lighter/SQLiteAPI":{"kind":"article","identifier":"doc:\/\/Lighter\/documentation\/Lighter\/SQLiteAPI","role":"article","url":"\/documentation\/lighter\/sqliteapi","type":"topic","abstract":[{"text":"Using the dependency-free SQLite API.","type":"text"}],"title":"Dependency-Free API"},"https://apps.apple.com/us/app/code-for-sqlite3/id1638111010":{"identifier":"https:\/\/apps.apple.com\/us\/app\/code-for-sqlite3\/id1638111010","title":"“Code for SQLite3” application","url":"https:\/\/apps.apple.com\/us\/app\/code-for-sqlite3\/id1638111010","titleInlineContent":[{"text":"“Code for SQLite3” application","type":"text"}],"type":"link"},"doc://Lighter/documentation/Lighter/Performance":{"kind":"article","identifier":"doc:\/\/Lighter\/documentation\/Lighter\/Performance","role":"article","url":"\/documentation\/lighter\/performance","type":"topic","abstract":[{"text":"A quick look at Lighter performance.","type":"text"}],"title":"Performance"},"doc://Lighter/documentation/Lighter/Linux":{"kind":"article","identifier":"doc:\/\/Lighter\/documentation\/Lighter\/Linux","role":"article","url":"\/documentation\/lighter\/linux","type":"topic","abstract":[{"text":"Using Lighter on Linux.","type":"text"}],"title":"Linux"}}}